#include <stdlib.h>
#include <stdio.h>
#include <fcntl.h>

#define LENGTH 100

int cp_main(int argc, char *argv[]) {

 int num_read;

 char buf[LENGTH];

 if (argc != 3)
 {
   exit(-2);
 } 


  int fd = open (argv[1],O_RDONLY);

  if (fd <0 )
  {
    exit(-3);
  }


  int fd_2 =open (argv[2] ,O_WRONLY | O_CREAT |O_TRUNC,0644);

  if (fd_2 <0 )
  {
    exit(-4);
  }

  while( (num_read=read(fd,buf,LENGTH) ) > 0)
  {

          if(write (fd_2,buf,num_read) < 0)
          {
                  exit(-5);
          }

  }

  close(fd);
  close(fd_2);

  return 0;

}

